language: objective-c
osx_image: xcode7.2
script:
- xctool -workspace CavyLifeBand.xcworkspace -scheme CavyLifeBand -configuration Release OBJROOT=$PWD/build   SYMROOT=$PWD/build
before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/comcavytechcavylife.mobileprovision.enc
  -d -a -out scripts/profile/comcavytechcavylife.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a
  -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a
  -out scripts/certs/dist.p12
- ./scripts/add-key.sh
after_success:
- ./scripts/sign-and-upload.sh
after_script:
- ./scripts/remove-key.sh
env:
  global:
  - APP_NAME="TravisExample"
  - 'DEVELOPER_NAME="iPhone Distribution: Hangzhou Cavy Technology Co., Ltd."'
  - PROFILE_NAME="comcavytechcavylife"
  - secure: l5fLD9Dzzb1ahluHVKITXkHLE3UBUBe1DkJozJlID6B8dAZtTGWV4+1Ki8IAz71mHxFK2Xzy3V48zo/N/3KIawISFFoGAOr1WgdDYctJdon347c2FGESAuOAXkRHFREsfXFI7SDcmJB2Z4GnsMGbYpe3i7CdQYrEhsrAzE1aI7yzTCeUv1VkDLfnaa1af+r77bjBpbNBTxMmxgFenyf56EO7YeHqZiqs6wFOQBpcgfs//K+5xEpnD1ZmrDwzqDEeFBvS0yiC8IqeaTQs8zlOQ79ucJ7UCP7cWQcaqnT56rBU4csYHVwGq2DXvPO3ffjykVMft0WqVOxfIcTtnkr6GM4jqppzN1HQK/3Dn6crNeXqK5YJ5Pa2D2RQEFUYkiBFrxyTR0KwYjUnbLEBckSd7UZyxj78+W0sZSgpafh2r0bFT/UzqcahGaTCibDqVxjnttrNpd9jy6qRpuVzuK2lo8BW5wyPMaci+S/uqHbilXn9vRHm+fVsFG2HKDKu414xbMMa0w61kNWH1FByvAjHVLn9n76a5PKOy6603wGB8RYolDh/ExBnRsqv+St3YV0JLsFhSKhD0RWOFVrAyEUkj9br18RJyEITftdYfHckpbM0/D/T1W9+dDobVz6Aru0BDX6xM2TOP2fRt8kwo+6aogXn+QOogTdbVQOJrao/eY0=
  - secure: ARxCo7GAVZ3ygBwO6NBwnhg0arPsqN1xu3upvRCaiRPR6E1m3nkKUQzbzFrXWPMC4QdvZYz2GrC6/NmnDrUYeIGPdI2Qt8pgzryjod1vex5+t2hUotex1YFzi35LPMDp90HnSwGm3gMgmwrf1bWKSLtOg/HdfP9POCjDpg4oFGN8XsdzpMviAOTdeIOeDUIGnkvl+wou1goi8Uph4OH9zdd+PoETxk9UTYXKq8OAJZT1PakPnXzcpM7XRiNtdbtHojRHNJZXvq9h57bjTaj16EeuVBi/IKvApZuWIrpcF3D707riicIfsQLbL3ypomZZD/EScCoI5OPSnZeOHTub+4KvuTNXY/GlkA8eogjmbHC+0snl89uiCvuD3Dd3EIyNIK63QkRK+EailhQf9XDrStU14HGpOq5w+xhkP7DPrZ+0fQGIXLE9zrgeqw+t63qSsEdfO1UHblCKoe5WRITghdUBeyqJqWSWnpenLAzMcJZhYaRfthz++f25l86VnCVbfT2Xq/lmHVhbIEU0MIt09Fl+wVFzIjaTqleVb5+kIFScfaIbhWz0HqYIMwsJ0t6RIUIUsAtky+qoAPXVj/OpEh1LQTlAT0NFuzpBBlmFuasQZWWomnuWTwOzG3OYa2Up68HvF71yIsKkxaBvwOhgasFOMPYfbzLkYJI/E5R5Zrk=
  - secure: pkl/YG/pGjr7wKEp5pljTlgzKIq1WfiRwoJr4aKyGDxpIGCYDdEQgWPC86UzXe7RJpuTl49jzfoN/Q3c6PYABQ/hOPblQjH2ZviFA4Xst3k8OT/J8b16sNzCOCjZWI2LPnKgk9oymorj8Ow+/ikXPCf0qyCnKF4woEQUwmys90usO/krplR36N6owsNzJ5N56RMkDll/UhsMkd34ildgmGqvjkATQBo2oeoJlK51L/wXMNl+zgVcW9zttEBuO+l6b94Gbcmb92CCeehIrqWnk5VQ84253u5+KfrLYbbE7cLE43gHF4Mc6V1rnLdgwq9npoarybmsisg7GtBQAY6GeWHWitt0M/L/KKPFkcRu58ayqGNEK8dmHI6lS9pjRvEtpKdrxHqtyEoUg8+IBcqc37VNzkjFM+Swlwec8rH1CMDsF40G+P3Tri7Raj9vZFuVbEIxjZ9kohS8Sj+FOwkaq1VZ2QDSpuEFzp5KnfLERp97y0ymJDy/zNHW+FWxhKUCzB7rOUiVaKOCSspoBOoxaWZJk0b71I8LQlRUl//DYVyZ5I86HjMLrzPjrl3WsDRdot+cCVWkycc5AjQakpVW0zsRt8VSJprLDXD25691PdiKaL0v0q/fHOXcHF4t2933xklDbVLqO7tLmKKmsZas0GylwmzeomsR+a1hjurbTTY=
  - secure: VHsVjxY4KkWpCZ09pNIEOcPanPUv3x6anXrc0IKStmHOi7sdKyHEkuSFxq7jPkwnwHToElAUmP7UXpzylSUAre+vP0yTIblR34T7xQnAppEMgiBSa74pl5IJFFrb6GqywWwx7rW6uQdM8pyzto1JmSmZ+Rp1NmXrtdcrSXjAENjhHGDx6TVDl4TpK9tEC4odr9uSSXEBFPRexpjyZoQORryGovJVnZVtROfVHdB7OJcK6H9goSkAcAeK3ey8Yohdtco6QPVcl2uKImFcIWSHmw936nDHRgfxXvrDxkPX5VCywHpi7eoXABXatSg4q/2th9dLQlFoL/e9ECmtuT5peaVW4Vm6J+WOiHew+FVQHlsD0qmLSc9LWm7nyB2bHBTZ0L6csNoOwbMvTTUIHTll7WUKHlp8rg2yoT3vSo7NcheSiKk41vDO6XUvX1rGf9/GYAFGh1x5yM5OGoCScPn4fv48a9BRtLBrfSrVoJPA2VQacK6x5ZxQopdp6/rxTyrcSgCqaNn1NJOuwmUbeWDwkW4rxN3gV58RmBBbf26lT+XMGgQvlHVPG5VMGWWediL5FKwTYFNuC7gW96EWR49xgTyEupq+2vHD/7MhpnLnoY9yQ+Am7oyCmcJ5cbrk55AGpFOTBn8I6e6fZIxBNQ4FP+cV9lIQGbJIWoWtNaTt9eI=
  - secure: UGpbp53mOgekpmkOZs5oKWo2B75tkkuW5Cx+APzEWTo/ibkOrEIpNvehqp77lNmT3WNWtjUvMDszarnl0j7NJjQiiDirt6cFn0Iz8huzJm3+om3k8lEgrQEUa6ysN34NIarWBBk9tJpJVo8hgXWFVlY3lKhWHvGeso43OJj3UXTwGuI4oWXUIEwczsOePro2EaH9KNHCejdRf915p1ZB3GymObJJru4HQhNa+ThisTe7ngTHe0baLF9vegJ/VPvghYEAZ1bA5s5ie8fHrER2iFzqIr4Sj8k81GZadQ2WKODYSsf3v6UkiEnVbaMkORDVOWA/uLRgYeNc8d14cyxs+frCW0dLyI2bNw5D7Nk+dCGSuCmz5o3bCp2TtYVs3ueTwnfrEE3nPlz9BDPGuHqFzkCLlyQOcDeIqBBaS1LtLPlcJzOFxq3Z1ZWlRorutFQLeTHoyh8CSdtXPFYuJTZfBUTfZFo0FIsIrZsNFeWaQESkdzNrdF6LguG/9pONg4Zf3msE9FtQ0M1UVM3xqBHyPW/G88s5Mtuqp5iPQpUOaD+btahEq97pC5P7rmaGpolyYo8PPLRf5jqDl6noa5lxwXpyxwL9XjFNjLjiQVteFSVu/psnJWMjy4Yy+0iGFm2qem2ZoqggUvRr8zaQA16orZTkuZWRjN4dN5XOVdny1zs=
